<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SongMaker: Create and visualize song structures with precise timing and playback.">
    <meta name="author" content="kappter">
    <title>SongMaker</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body data-theme="dark">
    <header>
        <h1>SongMaker</h1>
        <h2 id="print-song-name">(I Canâ€™t Get No) Satisfaction</h2>
    </header>

    <nav>
        <div class="controls">
            <button id="play-btn" onclick="togglePlay()">Play</button>
            <button id="sound-btn" onclick="toggleSound()">Sound On</button>
            <button id="theme-btn" onclick="toggleTheme()">Light Mode</button>
            <button onclick="exportSong()">Export</button>
            <label class="file-input-label">
                Import
                <input type="file" accept=".json" onchange="importSong(event)">
            </label>
            <select id="song-dropdown" onchange="loadSongFromDropdown(this.value)">
                <!-- Options populated by JS -->
            </select>
            <select id="style-dropdown" onchange="changeBlockStyle(this.value)">
                <option value="">Default Style</option>
                <option value="vibrant">Vibrant</option>
                <option value="pastel">Pastel</option>
                <option value="monochrome">Monochrome</option>
            </select>
            <button onclick="randomizeSong()">Randomize</button>
            <button onclick="printSong()">Print</button>
        </div>
    </nav>

    <main>
        <div class="form-container">
            <button id="toggle-form-btn" onclick="toggleForm()">Show Parameters</button>
            <div id="form-content" class="collapsed">
                <label>
                    Part Type:
                    <select id="part-type">
                        <option value="intro">Intro</option>
                        <option value="verse">Verse</option>
                        <option value="refrain">Refrain</option>
                        <option value="pre-chorus">Pre-Chorus</option>
                        <option value="chorus">Chorus</option>
                        <option value="post-chorus">Post-Chorus</option>
                        <option value="bridge">Bridge</option>
                        <option value="outro">Outro</option>
                        <option value="elision">Elision</option>
                        <option value="solo">Solo</option>
                        <option value="ad-lib">Ad-Lib</option>
                        <option value="hook">Hook</option>
                        <option value="interlude">Interlude</option>
                        <option value="breakdown">Breakdown</option>
                        <option value="drop">Drop</option>
                        <option value="coda">Coda</option>
                        <option value="modulation">Modulation</option>
                        <option value="tag">Tag</option>
                        <option value="chorus-reprise">Chorus Reprise</option>
                        <option value="countermelody">Countermelody</option>
                        <option value="instrumental-verse-chorus">Instrumental Verse-Chorus</option>
                        <option value="false-ending">False Ending</option>
                    </select>
                </label>
                <label>
                    Measures:
                    <input type="number" id="measures" min="1" value="4">
                </label>
                <label>
                    Root Note:
                    <select id="root-note">
                        <option value="C">C</option>
                        <option value="C#">C#</option>
                        <option value="D">D</option>
                        <option value="D#">D#</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                        <option value="F#">F#</option>
                        <option value="G">G</option>
                        <option value="G#">G#</option>
                        <option value="A">A</option>
                        <option value="A#">A#</option>
                        <option value="B">B</option>
                    </select
